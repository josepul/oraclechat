<!DOCTYPE html>
<html>
    <head>
        <title>Persistent chat test</title>
        <script type="text/javascript">
            class MyWebComponent extends HTMLElement {
                connectedCallback() {
                    console.log('Web component working');
                    const oreclaLiveChat = document.createElement('script');
                    const engagementEngineScript = document.createElement('script');
                    oreclaLiveChat.type = engagementEngineScript.type = "text/javascript";
                    oreclaLiveChat.src = "oracleLiveChat.js";
                    engagementEngineScript.src = "//ee.channels.ocs.oraclecloud.com/js/eesvcs.js";
                    document.body.appendChild(script);
                    document.body.appendChild(engagementEngineScript);
                    console.log('Web component working');
                }
            }
            window.customElements.define('my-test', MyWebComponent);
        </script>
    </head>
    <body>
        <button id="liveChat">Trigger chat</button>
        <div id="liveChatContainer">
        </div>
        <my-test></my-test>
    </body>
</html>
